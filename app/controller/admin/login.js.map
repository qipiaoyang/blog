{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\controller\\admin\\login.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "console",
        "log",
        "display",
        "loginAction",
        "isPost",
        "username",
        "post",
        "password",
        "userform",
        "model",
        "data",
        "where",
        "user",
        "find",
        "think",
        "isEmpty",
        "session",
        "fail",
        "json",
        "name",
        "url",
        "errno",
        "geetestAction",
        "geetest",
        "res",
        "validate",
        "ctx",
        "register",
        "logoutAction",
        "redirect"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAClCI,gBAAc;AACZC,YAAQC,GAAR,CAAY,GAAZ;AACA,WAAO,KAAKC,OAAL,EAAP;AACD;AACKC,aAAN,GAAoB;AAAA;;AAAA;AAClB,UAAG,MAAKC,MAAR,EAAe;AACb;AACA,YAAIC,WAAW,MAAKC,IAAL,CAAU,UAAV,CAAf;AACA,YAAIC,WAAW,MAAKD,IAAL,CAAU,UAAV,CAAf;AACA,YAAIE,WAAW,MAAKC,KAAL,CAAW,YAAX,CAAf;AACA,YAAIC,OAAO,MAAMF,SAASG,KAAT,CAAe,EAACC,MAAKP,QAAN,EAAeE,UAASA,QAAxB,EAAf,EAAkDM,IAAlD,EAAjB;AACA,YAAG,CAACC,MAAMC,OAAN,CAAcL,IAAd,CAAJ,EAAwB;AACtB,gBAAKM,OAAL,CAAa,UAAb,EAAwBN,IAAxB;AACD,SAFD,MAEO;AACL,iBAAO,MAAKO,IAAL,CAAU,GAAV,EAAc,cAAd,CAAP;AACD;AACF;AACD,aAAO,MAAKC,IAAL,CAAU;AACfC,cAAK,MADU;AAEfC,aAAI,oBAFW;AAGfC,eAAM;AAHS,OAAV,CAAP;AAbkB;AAkBnB;AACKC,eAAN,GAAsB;AAAA;;AAAA;AACpB,YAAMC,UAAU,OAAKd,KAAL,CAAW,SAAX,CAAhB,CADoB,CACmB;AACvC,UAAI,OAAKL,MAAT,EAAiB;AACf,cAAME,OAAO,OAAKA,IAAL,EAAb;AACAN,gBAAQC,GAAR,CAAYK,IAAZ;AACA,cAAMkB,MAAM,MAAMD,QAAQE,QAAR,CAAiB,OAAKC,GAAtB,EAA2BpB,IAA3B,CAAlB;AACA,eAAO,OAAKY,IAAL,CAAUM,GAAV,CAAP;AACD,OALD,MAKO;AACL,cAAMA,MAAM,MAAMD,QAAQI,QAAR,CAAiB,OAAKD,GAAtB,CAAlB;AACA;AACA,eAAO,OAAKR,IAAL,CAAUM,GAAV,CAAP;AACD;AAXmB;AAYrB;;AAEKI,cAAN,GAAqB;AAAA;;AAAA;AACnB,YAAM,OAAKZ,OAAL,CAAa,IAAb,CAAN;AACA,aAAO,OAAKa,QAAL,CAAc,cAAd,CAAP,CAFmB,CAEkB;AAFlB;AAGpB;AAzCiC,CAApC",
    "file": "..\\..\\..\\src\\controller\\admin\\login.js",
    "sourcesContent": [
        "const Base = require('./base.js');\n\nmodule.exports = class extends Base {\n  indexAction() {\n    console.log(123);\n    return this.display();\n  }\n  async loginAction() {\n    if(this.isPost){\n      //获取登陆的账号密码\n      let username = this.post('username');\n      let password = this.post('password');\n      let userform = this.model('think_user');\n      let data = await userform.where({user:username,password:password}).find();\n      if(!think.isEmpty(data)){\n        this.session('userinfo',data);\n      } else {\n        return this.fail(403,'账号密码错误，请重新填写');\n      }\n    }\n    return this.json({\n      name:'后台首页',\n      url:'/admin/index/index',\n      errno:0\n    });\n  }\n  async geetestAction() {\n    const geetest = this.model('geetest'); // 加载 commoon 模块下的 geetset service\n    if (this.isPost) {\n      const post = this.post();\n      console.log(post);\n      const res = await geetest.validate(this.ctx, post);\n      return this.json(res);\n    } else {\n      const res = await geetest.register(this.ctx);\n      // console.log(res);\n      return this.json(res);\n    }\n  }\n\n  async logoutAction() {\n    await this.session(null); \n    return this.redirect('/admin/login');//登录成功将用户信息写入session，返回到user首页\n  }\n};\n"
    ]
}